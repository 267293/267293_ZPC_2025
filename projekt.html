<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Individuální projekt - Moje portfolio ZPC</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Hover trigger for navbar -->
    <div class="navbar-trigger"></div>
    
    <!-- Top navigation bar -->
    <nav class="top-navbar">
        <div class="navbar-container">
            <div class="navbar-menu">
                <div class="navbar-item dropdown active">
                    <a href="#" class="dropdown-toggle">
                        Projekty <i class="fas fa-chevron-down"></i>
                    </a>
                    <div class="dropdown-menu">
                        <a href="projekt.html" class="dropdown-item active">
                            <i class="fas fa-flask"></i>
                            Individuální projekt
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="mini-projekty/plotter.html" class="dropdown-item">
                            <i class="fas fa-cut"></i>
                            Práce na plotteru
                        </a>
                        <a href="mini-projekty/laser.html" class="dropdown-item">
                            <i class="fas fa-laser-pointer"></i>
                            Laserové řezání
                        </a>
                        <a href="mini-projekty/3d-tisk.html" class="dropdown-item">
                            <i class="fas fa-cube"></i>
                            3D tisk
                        </a>
                        <a href="mini-projekty/3d-skenovani.html" class="dropdown-item">
                            <i class="fas fa-search"></i>
                            3D skenování
                        </a>
                        <a href="mini-projekty/elektro.html" class="dropdown-item">
                            <i class="fas fa-microchip"></i>
                            Elektronika
                        </a>
                    </div>
                </div>
                <a href="o-mne.html" class="navbar-item">O mně</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Header with title and dark mode toggle -->
        <header>
            <h1>Individuální projekt</h1>
            <button class="dark-mode-toggle" onclick="toggleDarkMode()">
                <i class="fas fa-moon"></i>
            </button>
        </header>

        <!-- Navigation back -->
        <nav class="breadcrumb">
            <a href="index.html" class="back-link">
                <i class="fas fa-arrow-left"></i>
                Zpět na hlavní stránku
            </a>
        </nav>

        <!-- Main content -->
        <main class="page-content">
            <!-- Media Gallery Slider -->
            <div class="media-gallery-slider">
                <div class="slider-container">
                    <button class="slider-btn prev" onclick="moveSlide(-1)">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    
                    <div class="slider-wrapper">
                        <div class="slider-track" id="sliderTrack">
                            <!-- Video 1 -->
                            <div class="slide" onclick="openModal(0)">
                                <div class="media-container">
                                    <video src="images/projekt_video.mp4" muted></video>
                                    <div class="play-icon"><i class="fas fa-play-circle"></i></div>
                                </div>
                                <p class="slide-caption">Video projektu</p>
                            </div>
                            
                            <!-- Fotka 1 - stroj -->
                            <div class="slide" onclick="openModal(1)">
                                <div class="media-container">
                                    <img src="images/stroj.jpg" alt="První skica">
                                </div>
                                <p class="slide-caption">První skica</p>
                            </div>
                            
                            <!-- Fotka 2 - render 1 -->
                            <div class="slide" onclick="openModal(2)">
                                <div class="media-container">
                                    <img src="images/render1_projekt.jpg" alt="3D render 1">
                                </div>
                                <p class="slide-caption">3D render 1</p>
                            </div>

                            <!-- Fotka 3 - render 3 -->
                            <div class="slide" onclick="openModal(3)">
                                <div class="media-container">
                                    <img src="images/render3_projekt.jpg" alt="3D render 2">
                                </div>
                                <p class="slide-caption">3D render 2</p>
                            </div>

                            <!-- Fotka 4 - render 2 -->
                            <div class="slide" onclick="openModal(4)">
                                <div class="media-container">
                                    <img src="images/render2_projekt.jpg" alt="3D render 3">
                                </div>
                                <p class="slide-caption">3D render 3</p>
                            </div>

                            <!-- Fotka 5 - render 4 -->
                            <div class="slide" onclick="openModal(5)">
                                <div class="media-container">
                                    <img src="images/render4_projekt.jpg" alt="3D render 4">
                                </div>
                                <p class="slide-caption">3D render 4</p>
                            </div>
                            
                            <!-- Fotka 6 - zapojení -->
                            <div class="slide" onclick="openModal(6)">
                                <div class="media-container">
                                    <img src="images/zapojení_projekt.jpg" alt="Návrh zapojení">
                                </div>
                                <p class="slide-caption">Návrh zapojení</p>
                            </div>
                        </div>
                    </div>
                    
                    <button class="slider-btn next" onclick="moveSlide(1)">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                
                <div class="slider-dots" id="sliderDots"></div>
            </div>

            <!-- Modal for fullscreen view -->
            <div id="mediaModal" class="modal" onclick="closeModal()">
                <span class="modal-close">&times;</span>
                <button class="modal-nav prev" onclick="event.stopPropagation(); changeModalSlide(-1)">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="modal-content-wrapper">
                    <div class="modal-content" id="modalContent"></div>
                </div>
                <button class="modal-nav next" onclick="event.stopPropagation(); changeModalSlide(1)">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>

            <div class="content-section">
                <h2>Popis projektu</h2>
                <p>
                    Téma mého individuálního projektu je Desinfekční box na elektrinická zařízení. Mobily, hodinky, sluchátka jsou elektronická zařízení, která používáme skoro neustále. Patří k našemu každodennímu životu a máme je neustále v ruce, a proto je důležité si uvědomit, že největšími nosiči bakterii jsou právě tato zařízení. A k tomu slouží toto zařízení, do boxu vložíte zařízení a pomocí desinfekčního cyklu dojde ke zničení bakterii a všech nečistot na površích zařízení. 
                </p>
                <p>
                    Box bude ovládán pomocí pohybového senzoru. Ten zaznamená pohyb a pošle informaci aby se otevřely dvířka boxu. Po odbytí lhůty se box zase zavře. Všechny procesy lze sledovat na led displeyi. Po uzavření komory se spustí čistící cyklus, který je realizován pomocí zrdcadlově uložených UVC led svítidel. Až proběhne cyklus, automaticky se otevřou dvířka boxu.
                </p>

            </div>

            <div class="content-section">
                <h2>Plánované technologie</h2>
                <ul class="tech-list">
                    <li>3D modelování a tisk</li>
                    <li>Programování mikrokontrolérů</li>
                    <li>Senzory a aktuátory</li>
                </ul>
            </div>

            <div class="content-section">
                <h2>Použitá elektronika</h2>
                <ul class="tech-list">
                    <li>LCD displey</li>
                    <li>Ultrazvukový senzor</li>
                    <li>Servo motor</li>
                    <li>UVC LED</li>
                </ul>
            </div>

            <div class="content-section">
                <h2>Arduino kód</h2>
                <div class="code-preview" onclick="openCodeModal('arduinoCode')">
                    <pre id="arduinoCode"><code>#include &lt;Servo.h&gt;
#include &lt;LiquidCrystal_I2C.h&gt;

Servo doorServo;
const int MOTION_SENSOR = 2;
const int LED_PIN = 3;

LiquidCrystal_I2C lcd(0x27, 16, 2);

void setup() {
  Serial.begin(9600);
  pinMode(MOTION_SENSOR, INPUT);
  pinMode(LED_PIN, OUTPUT);
  
  doorServo.attach(9);
  doorServo.write(0);
  
  lcd.init();
  lcd.backlight();
  lcd.print("System ready");
}</code></pre>
                    <div class="code-preview-overlay">
                        <span class="code-preview-hint">Klikni pro rozšíření</span>
                    </div>
                </div>
            </div>

            <!-- Code Modal -->
            <div id="codeModal" class="code-modal" onclick="closeCodeModal(event)">
                <div class="code-modal-content" onclick="event.stopPropagation()">
                    <button class="code-modal-close" onclick="closeCodeModal()">&times;</button>
                    <h3 id="codeModalTitle">Arduino kód</h3>
                    <div class="code-modal-body">
                        <pre id="codeModalCode"><code></code></pre>
                    </div>
                </div>
            </div>

            <div class="content-section"> 
                <h2>Časový plán</h2>
                <div class="timeline">
                    <div class="timeline-item">
                        <h3>Týden 5-6: Návrh a plánování</h3>
                        <p>Definice problému, výzkum, první návrhy</p>
                    </div>
                    <div class="timeline-item">
                        <h3>Týden 7-8: Prototypování</h3>
                        <p>První prototypy, testování konceptu</p>
                    </div>
                    <div class="timeline-item">
                        <h3>Týden 9-10: Výroba</h3>
                        <p>Finální výroba všech komponent</p>
                    </div>
                    <div class="timeline-item">
                        <h3>Týden 11-12: Testování a dokončení</h3>
                        <p>Finální testování, dokumentace</p>
                    </div>
                </div>
            </div>

            
        </main>
    </div>

    <script>
        function toggleDarkMode() {
            document.body.classList.toggle('light-mode');
            const icon = document.querySelector('.dark-mode-toggle i');
            if (document.body.classList.contains('light-mode')) {
                icon.className = 'fas fa-sun';
            } else {
                icon.className = 'fas fa-moon';
            }
        }

        // Mobile dropdown toggle
        document.addEventListener('DOMContentLoaded', function() {
            const dropdown = document.querySelector('.dropdown');
            const dropdownToggle = document.querySelector('.dropdown-toggle');
            
            if (dropdownToggle) {
                dropdownToggle.addEventListener('click', function(e) {
                    if (window.innerWidth <= 768) {
                        e.preventDefault();
                        dropdown.classList.toggle('active');
                    }
                });
            }
            
            // Initialize slider dots
            initSliderDots();
        });

        // Media Gallery Slider
        let currentSlide = 0;
        const mediaItems = [
            { type: 'video', src: 'images/projekt_video.mp4', caption: 'Video projektu' },
            { type: 'image', src: 'images/stroj.jpg', caption: 'První skica' },
            { type: 'image', src: 'images/render1_projekt.jpg', caption: '3D render 1' },
            { type: 'image', src: 'images/render3_projekt.jpg', caption: '3D render 2' },
            { type: 'image', src: 'images/render2_projekt.jpg', caption: '3D render 3' },
            { type: 'image', src: 'images/render4_projekt.jpg', caption: '3D render 4' },
            { type: 'image', src: 'images/zapojení_projekt.jpg', caption: 'Návrh zapojení' }
        ];

        function initSliderDots() {
            const dotsContainer = document.getElementById('sliderDots');
            dotsContainer.innerHTML = '';
            for (let i = 0; i < mediaItems.length; i++) {
                const dot = document.createElement('span');
                dot.className = 'dot' + (i === 0 ? ' active' : '');
                dot.onclick = () => goToSlide(i);
                dotsContainer.appendChild(dot);
            }
        }

        function moveSlide(direction) {
            const slides = document.querySelectorAll('.slide');
            const totalSlides = slides.length;
            currentSlide = (currentSlide + direction + totalSlides) % totalSlides;
            updateSlider();
        }

        function goToSlide(index) {
            currentSlide = index;
            updateSlider();
        }

        function updateSlider() {
            const track = document.getElementById('sliderTrack');
            const slideWidth = document.querySelector('.slide').offsetWidth;
            const gap = 20; // CSS gap
            track.style.transform = `translateX(-${currentSlide * (slideWidth + gap)}px)`;
            
            // Update dots
            const dots = document.querySelectorAll('.dot');
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlide);
            });
        }

        // Modal functionality
        let currentModalSlide = 0;

        function openModal(index) {
            currentModalSlide = index;
            const modal = document.getElementById('mediaModal');
            modal.style.display = 'flex';
            updateModalContent();
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modal = document.getElementById('mediaModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
            
            // Stop any playing video
            const video = modal.querySelector('video');
            if (video) {
                video.pause();
            }
        }

        function changeModalSlide(direction) {
            currentModalSlide = (currentModalSlide + direction + mediaItems.length) % mediaItems.length;
            updateModalContent();
        }

        function updateModalContent() {
            const modalContent = document.getElementById('modalContent');
            const item = mediaItems[currentModalSlide];
            
            if (item.type === 'video') {
                modalContent.innerHTML = `
                    <video controls autoplay style="max-width: 90%; max-height: 80vh;">
                        <source src="${item.src}" type="video/mp4">
                    </video>
                    <p class="modal-caption">${item.caption}</p>
                `;
            } else {
                modalContent.innerHTML = `
                    <img src="${item.src}" alt="${item.caption}" style="max-width: 90%; max-height: 80vh;">
                    <p class="modal-caption">${item.caption}</p>
                `;
            }
        }

        // Close modal on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        // Keyboard navigation for slider
        document.addEventListener('keydown', function(e) {
            const modal = document.getElementById('mediaModal');
            if (modal.style.display === 'flex') {
                if (e.key === 'ArrowLeft') {
                    changeModalSlide(-1);
                } else if (e.key === 'ArrowRight') {
                    changeModalSlide(1);
                }
            }
        });

        // Code Modal functionality
        function openCodeModal(codeId) {
            const codeElement = document.getElementById(codeId);
            const codeContent = codeElement.textContent;
            const codeModal = document.getElementById('codeModal');
            const codeModalCode = document.querySelector('#codeModalCode code');
            
            codeModalCode.textContent = codeContent;
            codeModal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeCodeModal(event) {
            // If event exists and is not a click on the modal background, don't close
            if (event && event.target !== event.currentTarget) {
                return;
            }
            
            const codeModal = document.getElementById('codeModal');
            codeModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Close code modal on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const codeModal = document.getElementById('codeModal');
                if (codeModal && codeModal.style.display === 'flex') {
                    closeCodeModal();
                }
            }
        });
    </script>
</body>
</html>